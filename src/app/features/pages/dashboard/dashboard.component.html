

<div class="container">

  <section class="row g-6 mb-5 ">
    <div class="col-xl-3 col-sm-6 col-12">
      <div class="card shadow border-0">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <span class="h6 font-semibold text-muted text-sm d-block mb-2">Overview</span>
              <span class="h3 font-bold mb-0">{{dashboardData && dashboardData.purchasedTestSeriesCount}}</span>
              
            </div>
            <div class="col-auto">
              <div class="icon icon-shape bg-tertiary text-white text-lg rounded-circle">
                <!-- <i class="bi bi-credit-card"></i> -->
                <i class="fas fa-shopping-cart"></i>
              </div>
            </div>
          </div>
          <div class="mt-2 mb-0 text-sm">
            <span class="badge badge-pill bg-soft-success text-success me-2">
              <i class="bi bi-arrow-up me-1"></i>
            </span>
            <span class="text-nowrap text-xs text-muted">Purchased Test Series</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-3 col-sm-6 col-12">
      <div class="card shadow border-0">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <span class="h6 font-semibold text-muted text-sm d-block mb-2">Overview</span>
              <span class="h3 font-bold mb-0">{{dashboardData && dashboardData.recentScore.toFixed(2)}}%</span>
            </div>
            <div class="col-auto">
              <div class="icon icon-shape bg-primary text-white text-lg rounded-circle">
                <i class="fas fa-chart-bar"></i>
              </div>
            </div>
          </div>
          <div class="mt-2 mb-0 text-sm">
            <span class="badge badge-pill bg-soft-success text-success me-2">
              <i class="bi bi-arrow-up me-1"></i>
            </span>
            <span class="text-nowrap text-xs text-muted">Recent Scores</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-3 col-sm-6 col-12">
      <div class="card shadow border-0">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <span class="h6 font-semibold text-muted text-sm d-block mb-2">Progress Tracking</span>
              <span class="h3 font-bold mb-0">{{dashboardData && dashboardData.completedTests}}</span>
            </div>
            <div class="col-auto">
              <div class="icon icon-shape bg-info text-white text-lg rounded-circle">
                <i class="fas fa-flag-checkered"></i>
              </div>
            </div>
          </div>
          <div class="mt-2 mb-0 text-sm">
            <span class="badge badge-pill bg-soft-success text-success me-2">
              <i class="bi bi-arrow-up me-1"></i>
            </span>
            <span class="text-nowrap text-xs text-muted">
              Tests Completed</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-3 col-sm-6 col-12">
      <div class="card shadow border-0">
        <div class="card-body">
          <div class="row">
            <div class="col">
              <span class="h6 font-semibold text-muted text-sm d-block mb-2">Progress Tracking</span>
              <span class="h3 font-bold mb-0">{{dashboardData && dashboardData.pendingTests}}</span>
            </div>
            <div class="col-auto">
              <div class="icon icon-shape bg-warning text-white text-lg rounded-circle">
                <i class="fas fa-hourglass-half"></i>
              </div>
            </div>
          </div>
          <div class="mt-2 mb-0 text-sm">
            <span class="badge badge-pill bg-soft-success text-success me-2">
              <i class="bi bi-arrow-up me-1"></i>
            </span>
            <span class="text-nowrap text-xs text-muted">Tests Pending</span>
          </div>
        </div>
      </div>
    </div>
    
  </section>

  <!-- <section class=" mb-5">
    <header id="intro" class="rounded ">
      <div class="content">
        <h1>Welcome to Our Test Series Platform</h1>
        <p>Prepare for success with expertly designed online test series.</p>
       
      </div>
    </header>
  </section>
     <hr> -->
  
  <section id="your-test-series" #yourtestSeries class=" my-0 py-0">
    <h1 class="mb-5">Your Test Series</h1>
    <!-- <div class="test-series-grid">
      <ng-container *ngIf="testSeriesData.length > 0; else noTestSeries">
        <article
          class="test-series-card"
          *ngFor="let series of testSeriesData"
        >
          <div class="card-header">
            <h2>{{ series.name }}</h2>
            <p
              class="status"
              [ngClass]="{
                active: series.status === 'Active',
                completed: series.status === 'Completed',
                upcoming: series.status === 'Upcoming' || series.status === 'Ready'
              }"
            >
              {{ series.status }}
            </p>
          </div>
          <div class="card-content">
            <p><strong>Tests:</strong> {{ series.details }}</p>
            <p><strong>Medium:</strong> {{ series.medium }}</p>
            <p><strong>Start Date:</strong> {{ series.startDate | date: 'MMM d, y' }}</p>
          </div>
          <div class="card-footer">
            <button
              [attr.aria-label]="'Action for ' + series.name"
              (click)="seeDetails(series)"
              class="action-button"
            >
              {{ series.status === 'Ready' ? 'Start Now' : 'See Details' }}
            </button>
          </div>
        </article>
      </ng-container>
      <ng-template #noTestSeries>
        <p class="empty-msg">You haven't purchased any test series yet.</p>
      </ng-template>
    </div> -->
  
  
    
  <div class="cards-container mb-5">
    <ng-container *ngIf="testSeriesData.length > 0; else noTestSeries">
    <div class="card shadow border-0" *ngFor="let series of testSeriesData">
      <div class="card-label"  [ngClass]="{
        active: series.status === 'Active',
        completed: series.status === 'Completed',
        upcoming: series.status === 'Upcoming' || series.status === 'Ready'
      }">   {{ series.status }}</div>
      <div class="card-body">
        <p class="card-detail"><strong>{{ series.name | uppercase }}</strong> </p>
        <p class="card-detail"><strong>Medium:</strong> {{ series.medium }}</p>
        <p class="card-detail"><strong>Details:</strong> {{ series.details }}</p>
        <p class="card-detail"><strong>Start Date:</strong> {{ series.startDate | date: 'MMM d, y' }}</p>
       
      
  
        <button *ngIf="series.status === 'Ready'" class="btn start-now" (click)="seeDetails(series)">Start Now</button>
        <button *ngIf="series.status === 'Active'" class="btn continue" (click)="seeDetails(series)">Continue</button>
        <button *ngIf="series.status === 'Completed'" class="btn view-details" (click)="seeDetails(series)">View Details</button>
      </div>
    </div>
    </ng-container>
  
    <ng-template #noTestSeries>
      <p class="empty-msg">You haven't purchased any test series yet.</p>
    </ng-template>
  
   
  
  </div>
</section>
<hr>

<div class="section">
  
  <h1 class="mb-5">Active Tests</h1>
  <ul class="active-tests">
      <ng-container *ngFor="let test of dashboardData && dashboardData.activeTests">
        <li class="d-flex justify-content-between align-items-center"> {{test.title | uppercase}} <button class="btn btn-sm btn-primary rounded" [routerLink]="['/dash/series-details',  test.testSeriesId]" >Start</button></li>

      </ng-container>
      <!-- <li><a href="#" class="btn">Test 2</a></li> -->
  </ul>
  <hr>
  <h1 class="mb-5">Completed Tests</h1>
 
  <div id="test-series" class="table-wrapper">
      <app-table  
          [tableHeaders]="resultTableHeaders"
          [tableData]="resultTableData"
          [itemsPerPage]="5"
          [actionsConfig]="resultActionConfig"
          (actionTriggered)="resultHandleAction($event)"
          [tableName]="''"
          [showTableName]="true"
          [showSearchBar]="true"
          [showColumns]="resultShowColumns">
        </app-table>

  </div>
 
</div>

<hr>
    
    <section id="test-series" #testSeries class=" my-0 py-0">
      <h1 class="mb-5">Test Series</h1>
      <app-table
        [tableHeaders]="tableHeaders"
        [tableData]="tableData"
        [itemsPerPage]="5"
        [actionsConfig]="actionsConfig"
        (actionTriggered)="handleAction($event)"
        [tableName]="'Test Series'"
        [showTableName]="false"
        [showSearchBar]="true"
        [showColumns]="showColumns"
      ></app-table>
    </section>
</div>



  
 










  